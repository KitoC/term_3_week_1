
    <!doctype html>
    <html lang="en-us">
    <head>
  <title>Getting Started with MongoDB, Node.js and Restify | MongoDB</title>
  <meta charset="utf-8" />
  <meta name="description" content="" />
  <meta property="og:site_name" content="MongoDB" />
  <meta property="og:title" content="Getting Started with MongoDB, Node.js and Restify | MongoDB" />
  <meta property="og:url" content="https://mongodb.com/blog/blog/post/getting-started-with-mongodb-nodejs-and-restify" />
  <meta property="og:image" content="http://s3.amazonaws.com/info-mongodb-com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  <meta property="og:image:secure_url" content="https://webassets.mongodb.com/_com_assets/cms/mongodb-for-giant-ideas-bbab5c3cf8.png">
  <meta name="og:description" content="" />
  
  
  <link rel="canonical" href="https://mongodb.com/blog/blog/post/getting-started-with-mongodb-nodejs-and-restify">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  
  <meta name='twitter:card' content='summary_large_image' />
  <meta name='twitter:site' content='@mongodb' />
  
  
  


  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.mongodb.com/blog/rss" />
  <link rel="icon" href="/blog/assets/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/blog/assets/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="/blog/assets/index.css" />
  
  <noscript>
    <iframe
      style="display:none"
      src="https://www.googletagmanager.com/ns.html?id=GTM-GDFN&nojscript=true"
      height="0"
      width="0"></iframe>

    <style>.m-nav-bg {opacity: 1 !important}</style>
  </noscript>

  <script type="application/ld+json">
  {
    "@context":"http://schema.org",
    "@type": "MongoDB",
    "url":"https://www.mongodb.com",
    "logo":"https://webassets.mongodb.com/_com_assets/cms/MongoDB-Logo-5c3a7405a85675366beb3a5ec4c032348c390b3f142f5e6dddf1d78e2df5cb5c.png"
  }
  </script>

  <script>
  // This can be removed once we stop supporting IE11
  (function () {
    var i = 0
    var x = [
      'https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.min.js',
      'https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js',
      'https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js'
    ]

    function init (type, presets) {
      var s = document.createElement('script')
      s.async = true
      if (type) s.type = type
      if (presets) s.setAttribute('data-presets', presets)
      s.src = '/blog/assets/index.js'
      document.head.appendChild(s)
    }

    function load () {
      if (++i === x.length) init('text/babel', 'es2015')
    }

    if (Object.hasOwnProperty.call(window, 'ActiveXObject')) {
      x.forEach(function (src) {
        var s = document.createElement('script')
        s.async = true
        s.src = src
        s.onload = load
        document.head.insertBefore(s, document.head.children[0])
      })
    } else {
      init()
    }
  })()
  </script>
</head>
    <body class="body">
      <div class="app"><nav class="m-nav m-nav-flex-y"><div class="m-nav-top"><ul><div class="m-nav-top-links m-nav-flex-y m-nav-flex-nowrap"><a target="_blank" href="https://docs.mongodb.com"><li>Docs</li></a><a target="_blank" href="https://university.mongodb.com"><li>Learn</li></a><a target="_self" href="/what-is-mongodb"><li>What's MongoDB?</li></a><a target="_blank" href="https://cloud.mongodb.com/user/login?nds=true"><li>Login</li></a></div><div class="m-nav-flex-y m-nav-flex-nowrap"><a href="/contact?jmp=nav"><button class="m-nav-flex-xy m-nav-top-contact"><svg width="18px" height="18px" viewBox="0 0 32 32" fill="#9E9E9E"><path d="M2.13 1.19c1.28-1.28 5.14-1.49 5.17-0.82 0.03 0.68 3.48 8.19 3.51 8.87s-2.27 2.99-2.95 3.66c-0.67 0.67 4.51 6.53 4.61 6.64 0.11 0.1 5.96 5.29 6.63 4.62 0.67-0.68 2.98-2.98 3.65-2.95 0.68 0.03 8.17 3.49 8.85 3.52 0.68 0.03 0.46 3.9-0.81 5.18-1.09 1.1-6.75 5.07-16.59-2.03-1.08-0.62-2.79-2.05-5.38-4.65 0 0 0 0 0 0 0 0 0 0-0.01-0.01s0 0-0.01-0.01c0 0 0 0 0 0-2.59-2.6-4.01-4.31-4.63-5.39-7.08-9.86-3.12-15.54-2.02-16.63z"></path></svg></button></a><span class="m-nav-search m-nav-flex-x"><input class="m-nav-search-input " placeholder="search" /><button class="m-nav-flex-xy m-nav-search-btn "><svg width="21px" height="21px" viewBox="0 0 24 24" fill="#9E9E9E"><path d="M21.7 20.3l-4.5-4.5c1.1-1.4 1.8-3.3 1.8-5.3 0-4.7-3.8-8.5-8.5-8.5s-8.5 3.8-8.5 8.5c0 4.7 3.8 8.5 8.5 8.5 2 0 3.8-0.7 5.3-1.8l4.5 4.5c0.2 0.2 0.5 0.3 0.7 0.3s0.5-0.1 0.7-0.3c0.4-0.4 0.4-1 0-1.4zM4 10.5c0-3.6 2.9-6.5 6.5-6.5s6.5 2.9 6.5 6.5c0 1.8-0.7 3.4-1.9 4.6 0 0 0 0 0 0s0 0 0 0c-1.2 1.2-2.8 1.9-4.6 1.9-3.6 0-6.5-2.9-6.5-6.5z"></path></svg></button></span><a id="mongodb-nav-download-btn" href="/download-center?jmp=nav" target="_self"><button class="m-nav-top-dl"><span>Get MongoDB</span><svg width="14px" height="21px" viewBox="0 0 16 21"><g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd"><g transform="translate(-1282.000000, -16.000000)" fill="#FFFFFF"><g transform="translate(0.000000, -1.000000)"><g transform="translate(85.000000, 0.000000)"><g transform="translate(1197.000000, 17.000000)"><path d="M13.9079108,6.9539554 L13.0386664,6.9539554 L13.0386664,8.69244425 L13.9079108,8.69244425 L13.9079108,13.9079108 L1.73848885,13.9079108 L1.73848885,8.69244425 L2.60773328,8.69244425 L2.60773328,6.9539554 L1.73848885,6.9539554 C0.77971225,6.9539554 0,7.73366765 0,8.69244425 L0,16.5156441 C0,17.4744207 0.77971225,18.2541329 1.73848885,18.2541329 L6.9539554,18.2541329 L6.9539554,19.1233774 L4.34622213,19.1233774 L4.34622213,20.8618662 L11.3001775,20.8618662 L11.3001775,19.1233774 L8.69244425,19.1233774 L8.69244425,18.2541329 L13.9079108,18.2541329 C14.8666874,18.2541329 15.6463997,17.4744207 15.6463997,16.5156441 L15.6463997,8.69244425 C15.6463997,7.73366765 14.8666874,6.9539554 13.9079108,6.9539554 L13.9079108,6.9539554 Z"></path><path d="M11.9147333,6.69926679 L10.6856217,5.47015517 L8.69244425,7.46333264 L8.69244425,0 L6.9539554,0 L6.9539554,7.46333264 L4.96077794,5.47015517 L3.73166632,6.69926679 L7.82319983,10.7908003 L11.9147333,6.69926679 Z" id="Shape"></path></g></g></g></g></g></svg></button></a></div></ul></div><div class="m-nav-middle"><ul class="m-nav-flex-space"><a href="/" class="m-nav-flex-y"><li class="m-nav-logo"><img src="https://webassets.mongodb.com/_com_assets/global/mongodb-logo-white.png" /></li><li class="m-nav-tagline">For Giant Ideas</li></a><div class="m-nav-middle-lists m-nav-flex-xy"><li class="m-nav-middle-li "><a href="/products/overview">Solutions</a></li><li class="m-nav-middle-li "><a href="/cloud">Cloud</a></li><li class="m-nav-middle-li "><a href="/who-uses-mongodb">Customers</a></li><li class="m-nav-middle-li "><a href="/resource-center">Resources</a></li><li class="m-nav-middle-li "><a href="/company">About Us</a></li></div><li class="m-nav-middle-toggle"><button><svg width="768" height="768" viewBox="0 0 768 768"><path d="M96 160h576q13.3 0 22.6 9.4t9.4 22.6-9.4 22.6-22.6 9.4h-576q-13.2 0-22.6-9.4t-9.4-22.6 9.4-22.6 22.6-9.4zM96 544h576q13.3 0 22.6 9.4t9.4 22.6-9.4 22.6-22.6 9.4h-576q-13.2 0-22.6-9.4t-9.4-22.6 9.4-22.6 22.6-9.4zM96 352h576q13.3 0 22.6 9.4t9.4 22.6-9.4 22.6-22.6 9.4h-576q-13.2 0-22.6-9.4t-9.4-22.6 9.4-22.6 22.6-9.4z"></path></svg></button></li></ul></div><div class="m-nav-bg m-nav-flex-x"><div class="m-nav-bottom"><div class="m-nav-bottom-list m-nav-flex-space m-nav-bottom-list-inactive"><div class="m-nav-cta m-nav-cta-first"><h2>Try It Now</h2><ul><a href="/mongodb-3.6"><li><strong>MongoDB 3.6</strong></li></a><a href="/cloud/stitch"><li><strong>MongoDB Stitch</strong></li></a><a href="/cloud/atlas"><li><strong>MongoDB Atlas</strong></li></a><a href="/download-center"><li><strong>Download Center</strong></li></a><a href="/what-is-mongodb"><li><strong>What's MongoDB?</strong></li></a></ul></div><ul><a href="/products/overview" target="_self"><li><strong>Products</strong></li></a><a href="/products/mongodb-enterprise-advanced" target="_self"><li><span>MongoDB Enterprise Advanced</span></li></a><a href="/partners/partner-program/oem" target="_self"><li><span>MongoDB Enterprise for OEM</span></li></a><a href="/products/mongodb-professional" target="_self"><li><span>MongoDB Professional</span></li></a><a href="/cloud/stitch" target="_self"><li><span>MongoDB Stitch</span></li></a><a href="/cloud/atlas" target="_self"><li><span>MongoDB Atlas</span></li></a><a href="/products/development-support" target="_self"><li><span>Development Support</span></li></a><a href="/products/ops-manager" target="_self"><li><span>Ops Manager</span></li></a><a href="/cloud/cloud-manager" target="_self"><li><span>Cloud Manager</span></li></a><a href="/products/compass" target="_self"><li><span>Compass</span></li></a><a href="/products/bi-connector" target="_self"><li><span>Connector for BI</span></li></a><a href="/products/spark-connector" target="_self"><li><span>Connector for Spark</span></li></a></ul><ul><a href="/products/consulting" target="_self"><li><strong>Services</strong></li></a><a href="/products/consulting" target="_self"><li><span>Consulting</span></li></a><a href="https://university.mongodb.com/private_training" target="_blank"><li><span>Training</span></li></a><a href="/customer-success" target="_self"><li><span>Customer Success</span></li></a></ul></div><div class="m-nav-bottom-list m-nav-flex-space m-nav-bottom-list-inactive"><div class="m-nav-cta "><h2>MongoDB Cloud Services</h2><ul><a href="https://cloud.mongodb.com/links/registerForAtlas"><li><strong>Sign up</strong></li></a><a href="https://cloud.mongodb.com/user/login?nds=true"><li><strong>Log in</strong></li></a><a href="/cloud/atlas/migrate"><li><strong>Live migrate to fully automated cloud service for MongoDB</strong></li></a></ul></div><ul><a href="/cloud" target="_self"><li><strong>Products</strong></li></a><a href="/cloud" target="_self"><li><span>Overview</span></li></a><a href="/cloud/atlas" target="_self"><li><span>MongoDB Atlas<small>Database as a Service</small></span></li></a><a href="/cloud/stitch" target="_self"><li><span>MongoDB Stitch<small>Backend as a Service</small></span></li></a><a href="/cloud/cloud-manager" target="_self"><li><span>MongoDB Cloud Manager<small>Monitoring, Backup, &amp; Automation</small></span></li></a></ul><ul><li><strong>Resources</strong></li><a href="/cloud/stitch/faq" target="_self"><li><span>MongoDB Stitch FAQ</span></li></a><a href="/cloud/atlas/faq" target="_self"><li><span>MongoDB Atlas FAQ</span></li></a><a href="/cloud/atlas/pricing" target="_self"><li><span>MongoDB Atlas Pricing</span></li></a><a href="https://university.mongodb.com/courses/M123/about" target="_self"><li><span>MongoDB Atlas Training</span></li></a><a href="http://docs.mongodb.com/stitch/" target="_self"><li><span>MongoDB Stitch Documentation</span></li></a><a href="https://docs.atlas.mongodb.com/" target="_self"><li><span>MongoDB Atlas Documentation</span></li></a><a href="https://docs.cloud.mongodb.com/" target="_self"><li><span>MongoDB Cloud Manager Documentation</span></li></a></ul></div><div class="m-nav-bottom-list m-nav-flex-space m-nav-bottom-list-inactive"><div class="m-nav-cta "><h2>Try It Now</h2><ul><a href="/mongodb-3.6"><li><strong>MongoDB 3.6</strong></li></a><a href="/cloud/stitch"><li><strong>MongoDB Stitch</strong></li></a><a href="/cloud/atlas"><li><strong>MongoDB Atlas</strong></li></a><a href="/download-center"><li><strong>Download Center</strong></li></a><a href="/what-is-mongodb"><li><strong>What's MongoDB?</strong></li></a></ul></div><ul><a href="/who-uses-mongodb" target="_self"><li><strong>Success Stories</strong></li></a><a href="/industries/government" target="_self"><li><span>Government</span></li></a><a href="/industries/retail" target="_self"><li><span>Retail</span></li></a><a href="/industries/high-tech" target="_self"><li><span>High Tech</span></li></a><a href="/industries/financial-services" target="_self"><li><span>Financial Services</span></li></a><a href="/industries" target="_self"><li><span>All industries</span></li></a></ul><ul><a href="/use-cases" target="_self"><li><strong>Use Cases</strong></li></a><a href="/use-cases/single-view" target="_self"><li><span>Single View</span></li></a><a href="/use-cases/internet-of-things" target="_self"><li><span>Internet of Things</span></li></a><a href="/use-cases/mobile" target="_self"><li><span>Mobile</span></li></a><a href="/use-cases/real-time-analytics" target="_self"><li><span>Real-Time Analytics</span></li></a><a href="/use-cases/personalization" target="_self"><li><span>Personalization</span></li></a><a href="/use-cases/content-management" target="_self"><li><span>Content Management</span></li></a><a href="/use-cases/catalog" target="_self"><li><span>Catalog</span></li></a></ul></div><div class="m-nav-bottom-list m-nav-flex-space m-nav-bottom-list-inactive"><div class="m-nav-cta "><h2>Popular Topics</h2><ul><a href="https://resources.mongodb.com/microservices?jmp=nav"><li><strong>Microservices</strong></li></a><a href="https://resources.mongodb.com/big-data?jmp=nav"><li><strong>Operational Intelligence</strong></li></a><a href="https://resources.mongodb.com/internet-of-things?jmp=nav"><li><strong>Internet of Things</strong></li></a><a href="https://resources.mongodb.com/migrating-to-mongodb?jmp=nav"><li><strong>Migrating to MongoDB</strong></li></a><a href="https://resources.mongodb.com/mongodb-security?jmp=nav"><li><strong>MongoDB Security</strong></li></a></ul></div><ul><a href="/resource-center" target="_self"><li><strong>Resource Center</strong></li></a><a href="/webinars" target="_self"><li><span>Webinars</span></li></a><a href="/presentations" target="_self"><li><span>Presentations</span></li></a><a href="/white-papers" target="_self"><li><span>White Papers</span></li></a><a href="/datasheets" target="_self"><li><span>Datasheets</span></li></a><a href="/events" target="_self"><li><span>Events</span></li></a><a href="/blog" target="_self"><li><span>Blog</span></li></a><a href="/community" target="_self"><li><span>Community</span></li></a><a href="https://docs.mongodb.com/" target="_blank"><li><span>Documentation</span></li></a></ul><ul><a href="/what-is-mongodb" target="_self"><li><strong>What is MongoDB</strong></li></a><a href="/mongodb-architecture" target="_self"><li><span>Architecture</span></li></a><a href="/mongodb-scale" target="_self"><li><span>Scalability</span></li></a><a href="/nosql-explained" target="_self"><li><span>NoSQL Database Explained</span></li></a><a href="https://resources.mongodb.com/getting-started-with-mongodb?jmp=nav" target="_blank"><li><span>Getting Started with MongoDB</span></li></a><a href="/evolved" target="_self"><li><span>The Evolution of MongoDB</span></li></a></ul></div><div class="m-nav-bottom-list m-nav-flex-space m-nav-bottom-list-inactive"><div class="m-nav-cta "><h2>Stay in the know</h2><ul><a href="/newsletter"><li><strong>Sign up for our newsletter</strong></li></a></ul></div><ul><a href="/company" target="_self"><li><strong>Our Company</strong></li></a><a href="/company#core-values" target="_self"><li><span>Core Values</span></li></a><a href="/leadership" target="_self"><li><span>Leadership</span></li></a><a href="https://investors.mongodb.com" target="_self"><li><span>Investor Relations</span></li></a><a href="/office-locations" target="_self"><li><span>Office Locations</span></li></a><a href="/contact" target="_self"><li><span>Contact Us</span></li></a><a href="/blog" target="_self"><li><span>Blog</span></li></a><a href="/partners" target="_self"><li><span>Partners</span></li></a><a href="/pressroom" target="_self"><li><span>Press Room</span></li></a></ul><ul><a href="/careers" target="_self"><li><strong>Careers</strong></li></a><a href="/careers" target="_self"><li><span>Work at MongoDB</span></li></a><a href="/careers/college-students" target="_self"><li><span>Student Opportunities</span></li></a></ul></div></div></div></nav><header class="relative fl fl-center fl-column h-350"><div class="header-bg absolute top left w-full h-full" style="background-image: url(&quot;https://webassets.mongodb.com/_com_assets/cms/gen-developer-hero-a81ebf29e4.jpg&quot;); opacity: 1;"></div><div class="header-bg absolute top left w-full h-full" style="background-image: url(&quot;&quot;); opacity: 0;"></div><div class="header-mask absolute top left w-full h-full" style="background-color: rgba(0, 0, 0, 0.5);"></div><h1 class="relative white w-max-800 m-h-20 m-v-5 p-t-50 text-center font-35 font-mobile-30">Getting Started with MongoDB, Node.js and Restify</h1><a href="https://university.mongodb.com/courses/M101JS/about"><button class="relative btn-green m-5"> M101JS: MongoDB for Node.js Developers</button></a></header><main class="relative w-max-650 h-min-700 m-auto"><aside class="absolute hide-lt-1360 w-max-310 w-full m-v-40 p-h-10 bg-white" style="margin-left: -300px;"><input class="input-main" type="text" placeholder="Search all blog posts" style="width: 80%; display: block;" /><a href="/blog/category/release-notes"><button class="btn-gray no-shadow btn-small m-2">Release Notes</button></a><a href="/blog/category/emerging-technology"><button class="btn-gray no-shadow btn-small m-2">Emerging Technology</button></a><a href="/blog/category/community"><button class="btn-gray no-shadow btn-small m-2">Community</button></a><a href="/blog/category/customer-stories"><button class="btn-gray no-shadow btn-small m-2">Customer Stories</button></a><a href="/blog/category/business"><button class="btn-gray no-shadow btn-small m-2">Business</button></a><a href="/blog/category/technical"><button class="btn-gray no-shadow btn-small m-2">Technical</button></a><a href="/blog/category/cloud"><button class="btn-gray no-shadow btn-small m-2">Cloud</button></a><a href="/blog/category/events"><button class="btn-gray no-shadow btn-small m-2">Events</button></a><a href="/blog/category/company"><button class="btn-gray no-shadow btn-small m-2">Company</button></a><a href="/blog/category/aws-re:invent-2017"><button class="btn-gray no-shadow btn-small m-2">AWS re:Invent 2017</button></a><a href="/blog/category/mongodb-3.6"><button class="btn-gray no-shadow btn-small m-2">MongoDB 3.6</button></a><a href="/blog/category/culture"><button class="btn-gray no-shadow btn-small m-2">Culture</button></a><a href="/blog/category/mongodb-4.0"><button class="btn-gray no-shadow btn-small m-2">MongoDB 4.0</button></a><div class="m-v-10" hidden></div><div class="m-v-30" style="opacity: 0; transition: 300ms;"><small class="block m-v-10"><strong>Getting Started with MongoDB, Node....</strong></small><div class="fl fl-wrap fl-center-y"><div class="fl fl-wrap"><a href="/blog/author/nick-parsons-"><div class="relative circle m-r-10 w-50 h-50" style="background-image: url(&quot;https://webassets.mongodb.com/_com_assets/cms/nick-crop-tpjiu2dhnj.jpg&quot;); background-size: cover; background-position: center;"></div></a></div><div><small><a href="/blog/author/nick-parsons-">Nick Parsons </a></small><br /><small>May 19, 2017</small><br /><a href="/blog/category/technical"><small>Technical</small></a></div></div><a href="/blog" class="block fl fl-center-y m-v-10 reset-hover"><span style="font-size: 26px;" class="icon-arrow-left"></span>View all blog posts</a></div></aside><aside class="absolute right hide-lt-1360 w-max-300 w-full m-v-30 p-l-20" style="margin-right: -300px;"><div><h5>Sign up for our monthly blog digest</h5><div class="form-error"></div><div hidden><small>Thanks for subscribing to the newsletter. This is your channel for getting the latest notifications of server and driver releases, details on local MongoDB events, updates on education programs, and the skinny on all things MongoDB.</small></div><form autoComplete="on"><input type="hidden" defaultValue="en" name="language" id="language" /><input type="hidden" defaultValue="Int_NL_NewsletterSignup-Blogson.com/.org_WW" name="elqFormName" id="elqFormName" /><input type="hidden" defaultValue="413370795" name="elqSiteID" id="elqSiteID" /><input type="hidden" defaultValue="0" name="elqCookieWrite" id="elqCookieWrite" /><input type="hidden" name="elqCustomerGUID" id="elqCustomerGUID" /><input type="hidden" name="db_company_name" id="db_company_name" /><input type="hidden" name="db_demandbase_sid" id="db_demandbase_sid" /><input type="hidden" name="db_marketing_alias" id="db_marketing_alias" /><input type="hidden" name="db_industry" id="db_industry" /><input type="hidden" name="db_sub_industry" id="db_sub_industry" /><input type="hidden" name="db_employee_count" id="db_employee_count" /><input type="hidden" name="db_primary_sic" id="db_primary_sic" /><input type="hidden" name="db_street_address" id="db_street_address" /><input type="hidden" name="db_city" id="db_city" /><input type="hidden" name="db_state" id="db_state" /><input type="hidden" name="db_zip" id="db_zip" /><input type="hidden" name="db_country" id="db_country" /><input type="hidden" name="db_country_name" id="db_country_name" /><input type="hidden" name="db_phone" id="db_phone" /><input type="hidden" name="db_stock_ticker" id="db_stock_ticker" /><input type="hidden" name="db_web_site" id="db_web_site" /><input type="hidden" name="db_annual_sales" id="db_annual_sales" /><input type="hidden" name="db_revenue_range" id="db_revenue_range" /><input type="hidden" name="db_employee_range" id="db_employee_range" /><input type="hidden" name="db_b2b" id="db_b2b" /><input type="hidden" name="db_b2c" id="db_b2c" /><input type="hidden" name="db_traffic" id="db_traffic" /><input type="hidden" name="db_latitude" id="db_latitude" /><input type="hidden" name="db_longitude" id="db_longitude" /><input type="hidden" name="db_fortune_1000" id="db_fortune_1000" /><input type="hidden" name="db_forbes_2000" id="db_forbes_2000" /><input type="hidden" name="ip_address" id="ip_address" /><input type="hidden" name="jump_id" id="jump_id" /><input required id="name" class="input-main block w-three-quarter m-0 m-v-10" name="name" type="text" placeholder="Name" autoComplete="name" /><input required id="email" class="input-main block w-three-quarter m-0 m-v-10" name="email" type="email" placeholder="Email Address" autoComplete="email" /><input type="submit" value="Submit" class="btn-green btn-small" /></form></div><div class="m-v-30"><div class="fl fl-center"><svg class="p-r-10 w-85" viewBox="0 0 50 40"><g fill="none" fill-rule="evenodd"><g transform="translate(-864 -1325)" stroke="#69B342" stroke-width="2"><g transform="translate(865 1283)"><g transform="translate(0 43)"><g transform="translate(0 .16667)"><g><path d="m47.958 33.375c0 2.3-1.8646 4.1667-4.1667 4.1667h-39.583c-2.3 0-4.1667-1.8667-4.1667-4.1667v-29.167c0-2.3 1.8667-4.1667 4.1667-4.1667h39.583c2.3021 0 4.1667 1.8667 4.1667 4.1667v29.167z"></path><path d="m0.041667 10h47.917"></path><circle cx="7.3333" cy="5.25" r="1.0417"></circle><ellipse cx="13.583" cy="5.25" rx="1.0417" ry="1.0417"></ellipse><ellipse cx="19.833" cy="5.25" rx="1.0417" ry="1.0417"></ellipse><polyline points="10.458 18.792 15.667 24 10.458 29.208"></polyline><path d="m22.958 25h8.3333"></path></g></g></g></g></g></g></svg><h4 class="m-0">The MongoDB Engineering Journal</h4></div><p>A tech blog for builders, by builders</p><a href="https://engineering.mongodb.com"><button class="btn-green btn-small">View Now</button></a></div><div id="div-gpt-ad-1501783583142-0" style="transform: scale(0.8) translate(-12.5%, 0);" class="h-250 w-max-280"></div></aside><div class="p-h-20 p-v-30"><div class="fl fl-wrap fl-center-y"><div class="fl fl-wrap"><a href="/blog/author/nick-parsons-"><div class="relative circle m-r-10 w-50 h-50" style="background-image: url(&quot;https://webassets.mongodb.com/_com_assets/cms/nick-crop-tpjiu2dhnj.jpg&quot;); background-size: cover; background-position: center;"></div></a></div><div><small><a href="/blog/author/nick-parsons-">Nick Parsons </a></small><br /><small>May 19, 2017</small><br /><a href="/blog/category/technical"><small>Technical</small></a></div></div><div class="cms-content"><p><p>When building a REST API, it is important to choose a framework that will help you to work quickly and easily through the process. This can be impacted by the actual speed of the framework, but also by the amount of knowledge and documentation that exists so that you can spend less time working through roadblocks and more time working on critical components. In this post, we&#x2019;ll be covering how to set up a simple API with full CRUD operations using the ever-popular <a href="http://restify.com/" target="_blank">Restify</a> framework backed by a <a href="https://www.mongodb.com/cloud/atlas" target="_blank">MongoDB Atlas</a> database. For sake of simplicity, we&#x2019;ll create a basic &#x201C;to-do&#x201D; style API.</p></p>
<p><h3 id="installing-node-js">Installing Node.js</h3></p>
<p><p>Let&#x2019;s get started by installing Node.js (if you already have Node.js installed, feel free to skip to the next section of this post). If you are on a Mac, the easiest way to install Node.js is via <a href="https://brew.sh/" target="_blank">Homebrew</a>, a package manager for macOS.</p></p>
<p><p>To do so, simply run the following command in your terminal and you&#x2019;ll be ready to go:</p></p>
<pre><code>$ brew install node</code></pre>

<p><p>If you already have Node.js installed, make sure you&#x2019;re running the latest version by running:</p></p>
<pre><code>$ brew upgrade node</code></pre>

<p><p>Once installed, you can run the following command to verify that node has been installed (please note that I&#x2019;m currently running v7.10.0):</p></p>
<pre><code>$ node --version</code></pre>

<p><p>The output will display the latest version installed, which will be v7.10.0 or above:</p></p>
<pre><code>$ v7.10.0</code></pre>

<p><p><b>Note</b>: If you&#x2019;re on Windows or Linux, please read the <a href="https://nodejs.org/en/download/" target="_blank">installation instructions</a> on the official Node.js website.</p></p>
<p><h3 id="getting-started-with-mongodb-atlas">Getting Started with MongoDB Atlas</h3></p>
<p><p>The easiest way to get start using MongoDB is with MongoDB Atlas, a managed service from MongoDB that facilitates seamless scaling and operations of your deployments in the cloud. It is super simple to set up and operate, and, best of all, there&#x2019;s a free tier for small deployments &#x2013; no credit card required.</p></p>
<p><p>To get started, head on over to <a href="https://www.mongodb.com/cloud/atlas" target="_blank">https://www.mongodb.com/cloud/atlas</a> and click the &#x201C;Start Free&#x201D; button.</p></p>
<p><p>From there, we&#x2019;ll need to create a &#x201C;group&#x201D; to hold our free cluster. Feel free to name your group whatever you&#x2019;d like. In this example, we&apos;ll work with a group called <b>young-sea-3503</b>.</p></p>
<p><p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img1-z73ss6qy4b.png" alt=""></p></p>
<p><p>Once your group is configured, you&#x2019;ll be prompted to set up your first cluster. Simply follow the steps and choose the &#x201C;M0&#x201D; instance size for the free tier. Once you deploy your instance, it should be available within about five minutes.</p></p>
<p><p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img2-e3vl3nx03x.png" alt=""></p></p>
<p><h3 id="create-our-application-directory">Create Our Application Directory</h3></p>
<p><p>Let&#x2019;s create a directory for our application. We will call it &#x201C;rest-api&#x201D;. To do so, simply run the following command in your terminal:</p></p>
<pre><code>$ cd ~&NewLine;$ mkdir rest-api && cd rest-api</code></pre>

<p><p><b>Pro Tip</b>: The application directory location does not technically matter. I chose your root simply because it&#x2019;s easy to find. Feel free to specify a different directory path if you&#x2019;d like.</p></p>
<p><h3 id="npm-package-management">NPM Package Management</h3></p>
<p><p>Now that Node.js is set up and we have a database to connect to, we&#x2019;ll need to install the npm packages <a href="https://www.npmjs.com/package/restify" target="_blank">restify</a> and <a href="https://www.npmjs.com/package/mongodb" target="_blank">mongodb</a> (the official MongoDB driver for Node.js). When you installed Node.js, you also installed <a href="https://www.npmjs.com/" target="_blank">npm</a>, which makes it super simple to install the necessary dependencies.</p></p>
<p><p>The best way to manage locally installed npm packages is to create a package.json file. A package.json file affords you a number of capabilities:</p></p>
<ul>
<li>It documents which packages your project depends on.</li>
<li>It allows you to specify the versions of a package that your project can use, using <a href="https://docs.npmjs.com/getting-started/semantic-versioning" target="_blank">semantic versioning</a> rules.</li>
<li>It makes your build reproducible, which makes it way easier to share with other developers.</li>
</ul>
<h3 id="installing-the-necessary-npm-packages">Installing the Necessary NPM Packages</h3>
<p>Now that you understand the need for a <code>package.json</code> file, let&#x2019;s run an npm command in your terminal to generate the file:</p>
<pre><code>$ npm init --yes</code></pre>


<p>You should see the following output (the contents of your <code>package.json</code> file):</p>
<pre><code>{&NewLine;  &quot;name&quot;: &quot;rest-api&quot;,&NewLine;  &quot;version&quot;: &quot;1.0.0&quot;,&NewLine;  &quot;description&quot;: &quot;&quot;,&NewLine;  &quot;main&quot;: &quot;index.js&quot;,&NewLine;  &quot;scripts&quot;: {&NewLine;    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;&NewLine;  },&NewLine;  &quot;keywords&quot;: [],&NewLine;  &quot;author&quot;: &quot;&quot;,&NewLine;  &quot;license&quot;: &quot;ISC&quot;&NewLine;}</code></pre>

<p><b>Pro Tip</b>: Running the init command attempts to make reasonable guesses about how you want your options set, and then writes a package.json file with the properties you select when prompted. If you invoke it with <strong><code>-f</code></strong>, <strong><code>--force</code></strong>, <strong><code>-y</code></strong>, or <strong><code>--yes</code></strong>, it will use only defaults and not prompt you for any options.</p>
<p>Now that we have the package.json file created, open up a terminal, navigate to the directory that contains your Node.js application and run the following command:</p>
<pre><code>$ npm install mongodb restify --save</code></pre>

<p>The command above will automatically install the mongodb and restify node modules from the npm registry.</p>
<h3 id="create-a-configuration-file">Create a Configuration File</h3>
<p>To keep things clean, I generally like to abstract important and/or reusable information into a configuration file. With that said, let&#x2019;s create a file called <code>config.js</code> with the following command:</p>
<pre><code>$ touch config.js</code></pre>

<p>The contents of the file should look something like this:</p>
<pre><code>&#39;use strict&#39;&NewLine;&NewLine;module.exports = {&NewLine;    name: &#39;rest-api&#39;,&NewLine;    version: &#39;0.0.1&#39;,&NewLine;    env: process.env.NODE_ENV || &#39;development&#39;,&NewLine;    port: process.env.PORT || 3000,&NewLine;    db: {&NewLine;        uri: &#39;YOUR_MONGODB_CONNECTION_STRING&#39;,&NewLine;    }&NewLine;}</code></pre>

<p>With our <code>config.js</code> file in place, grab the connection string so we can add it to your configuration file. To do so, head back over to the MongoDB Atlas console and click on the &#x201C;connect&#x201D; button. Once clicked, you will be presented with the following screen, containing your connection string to your MongoDB Atlas cluster:</p>
<p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img3-spykvmks9l.png" alt="Connect for free"></p>
<p>Click &#x201C;copy&#x201D; and replace <strong><code>&amp;&#35;x201C;YOUR_MONGODB_CONNECTION_STRING&amp;&#35;x201D;</code></strong> in your <code>config.js</code> file with your provided connection string. </p>
<p>Here&apos;s an example of our <code>config.js</code> file with our MongoDB Atlas connection string specifying the API database using our username and password:</p>
<pre><code>module.exports = {&NewLine;    name: &#39;rest-api&#39;,&NewLine;    version: &#39;0.0.1&#39;,&NewLine;    env: process.env.NODE_ENV || &#39;development&#39;,&NewLine;    port: process.env.PORT || 3000,&NewLine;    db: {&NewLine;        uri: &#39;mongodb://$USERNAME:<a href="mailto:$PASSWORD@free-shard-00-00-example.mongodb.net">$PASSWORD@free-shard-00-00-example.mongodb.net</a>:27017,free-shard-00-01-example.mongodb.net:27017,free-shard-00-02-example.mongodb.net:27017/api?ssl=true&amp;replicaSet=free-shard-0&amp;authSource=admin&#39;&NewLine;    }&NewLine;}&NewLine;</code></pre>

<p><b>Note</b>: You will need to manually drop in the password you created when you initially built your cluster. For security purposes the password is not visible in the console. Additionally, it&#x2019;s best to also specify a user with read, write, or read and write access (depending on your needs). For the purpose of this tutorial, we have named the database &#x201C;api&#x201D;.</p>
<h3 id="whitelist-your-ip-address">Whitelist your IP Address</h3>
<p>Because security is top of mind with MongoDB Atlas, we will need to whitelist our IP address in order to connect to the cluster. MongoDB Atlas makes this super simple by providing a button that says &#x201C;Add Current IP Address&#x201D; just above where you previously copied your connection string from.</p>
<p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img4-3h82o8lnho.png" alt="Add current IP address"></p>
<h3 id="create-the-index-js-file">Create the index.js File</h3>
<p>The <code>index.js</code> file will server as the main entrypoint to your Node.js API. To get started, let&#x2019;s go ahead and create the file using the following command:</p>
<pre><code>$ touch index.js</code></pre>

<p>Next, let&#x2019;s drop in some boilerplate code so that your application will kickoff the Restify server process:</p>
<pre><code>&#39;use strict&#39;&NewLine;&NewLine;/&ast;&ast;&NewLine; &ast; Module Dependencies&NewLine; &ast;/&NewLine;const config  = require(&#39;./config&#39;),&NewLine;      restify = require(&#39;restify&#39;),&NewLine;      mongodb = require(&#39;mongodb&#39;).MongoClient&NewLine;&NewLine;/&ast;&ast;&NewLine; &ast; Initialize Server&NewLine; &ast;/&NewLine;const server = restify.createServer({&NewLine;    name    : config.name,&NewLine;    version : config.version&NewLine;})&NewLine;&NewLine;/&ast;&ast;&NewLine; &ast; Bundled Plugins (<a href="http://restify.com/&#35;bundled-plugins)">http://restify.com/&#35;bundled-plugins)</a>&NewLine; &ast;/&NewLine;server.use(restify.jsonBodyParser({ mapParams: true }))&NewLine;server.use(restify.acceptParser(server.acceptable))&NewLine;server.use(restify.queryParser({ mapParams: true }))&NewLine;server.use(restify.fullResponse())&NewLine;&NewLine;/&ast;&ast;&NewLine; &ast; Lift Server, Connect to DB &amp; Require Route File&NewLine; &ast;/&NewLine;server.listen(config.port, () =&gt; {&NewLine;&NewLine;    // establish connection to mongodb atlas&NewLine;    mongodb.connect(config.db.uri, (err, db) =&gt; {&NewLine;&NewLine;        if (err) {&NewLine;            console.log(&#39;An error occurred while attempting to connect to MongoDB&#39;, err)&NewLine;            process.exit(1)&NewLine;        }&NewLine;&NewLine;        console.log(&NewLine;            &#39;%s v%s ready to accept connections on port %s in %s environment.&#39;,&NewLine;            server.name,&NewLine;            config.version,&NewLine;            config.port,&NewLine;            config.env&NewLine;        )&NewLine;&NewLine;        require(&#39;./routes&#39;)({ db, server })&NewLine;&NewLine;    })&NewLine;&NewLine;})&NewLine;</code></pre>

<h3 id="setting-up-routes">Setting Up Routes</h3>
<p>Next, let&#x2019;s create our routes for CRUD operations. With a fully fledged application, you would generally have dozens of route files; however, for our case, we&#x2019;ll keep it simple and only have one route file called <code>routes.js</code>.</p>
<p>Let&#x2019;s create our file by running the following command from your terminal:</p>
<pre><code>$ touch routes.js</code></pre>

<p>Now that you&#x2019;ve successfully created your routes file, let&#x2019;s start populating the file with your actual endpoints!</p>
<p>Below is boilerplate code to drop into your <code>routes.js</code> file (all of which is commented and should be self-explanatory):</p>
<pre><code>&#39;use strict&#39;&NewLine;&NewLine;module.exports = function(ctx) {&NewLine;&NewLine;    // extract context from passed in object&NewLine;    const db     = ctx.db,&NewLine;          server = ctx.server&NewLine;&NewLine;    // assign collection to variable for further use&NewLine;    const collection = db.collection(&#39;todos&#39;)&NewLine;&NewLine;    /&ast;&ast;&NewLine;     &ast; Create&NewLine;     &ast;/&NewLine;    server.post(&#39;/todos&#39;, (req, res, next) =&gt; {&NewLine;&NewLine;        // extract data from body and add timestamps&NewLine;        const data = Object.assign({}, req.body, {&NewLine;            created: new Date(),&NewLine;            updated: new Date()&NewLine;        })&NewLine;&NewLine;        // insert one object into todos collection&NewLine;        collection.insertOne(data)&NewLine;            .then(doc =&gt; res.send(200, doc.ops[0]))&NewLine;            .catch(err =&gt; res.send(500, err))&NewLine;&NewLine;        next()&NewLine;&NewLine;    })&NewLine;&NewLine;    /&ast;&ast;&NewLine;     &ast; Read&NewLine;     &ast;/&NewLine;    server.get(&#39;/todos&#39;, (req, res, next) =&gt; {&NewLine;&NewLine;        let limit = parseInt(req.query.limit, 10) || 10, // default limit to 10 docs&NewLine;            skip  = parseInt(req.query.skip, 10) || 0, // default skip to 0 docs&NewLine;            query = req.query || {}&NewLine;&NewLine;        // remove skip and limit from query to avoid false querying&NewLine;        delete query.skip&NewLine;        delete query.limit&NewLine;&NewLine;        // find todos and convert to array (with optional query, skip and limit)&NewLine;        collection.find(query).skip(skip).limit(limit).toArray()&NewLine;            .then(docs =&gt; res.send(200, docs))&NewLine;            .catch(err =&gt; res.send(500, err))&NewLine;&NewLine;        next()&NewLine;&NewLine;    })&NewLine;&NewLine;    /&ast;&ast;&NewLine;     &ast; Update&NewLine;     &ast;/&NewLine;    server.put(&#39;/todos/:id&#39;, (req, res, next) =&gt; {&NewLine;&NewLine;        // extract data from body and add timestamps&NewLine;        const data = Object.assign({}, req.body, {&NewLine;            updated: new Date()&NewLine;        })&NewLine;&NewLine;        // build out findOneAndUpdate variables to keep things organized&NewLine;        let query = { _id: req.params.id },&NewLine;            body  = { $set: data },&NewLine;            opts  = {&NewLine;                returnOriginal: false,&NewLine;                upsert: true&NewLine;            }&NewLine;&NewLine;        // find and update document based on passed in id (via route)&NewLine;        collection.findOneAndUpdate(query, body, opts)&NewLine;            .then(doc =&gt; res.send(204))&NewLine;            .catch(err =&gt; res.send(500, err))&NewLine;&NewLine;        next()&NewLine;&NewLine;    })&NewLine;&NewLine;    /&ast;&ast;&NewLine;     &ast; Delete&NewLine;     &ast;/&NewLine;    server.del(&#39;/todos/:id&#39;, (req, res, next) =&gt; {&NewLine;&NewLine;        // remove one document based on passed in id (via route)&NewLine;        collection.findOneAndDelete({ _id: req.params.id })&NewLine;            .then(doc =&gt; res.send(204))&NewLine;            .catch(err =&gt; res.send(500, err))&NewLine;&NewLine;        next()&NewLine;&NewLine;    })&NewLine;&NewLine;}&NewLine;</code></pre>

<h3 id="verifying-our-api-functionality-with-postman">Verifying our API Functionality with Postman</h3>
<p>At it&#x2019;s core, <a href="https://www.getpostman.com/" target="_blank">Postman</a> is a powerful GUI platform built to make your API development faster and easier &#x2013; from building API requests to testing, documenting and sharing with teammates. It&#x2019;s one of my favorite tools (and should be yours, too).</p>
<p>Start the server. In the root directory where your <code>index.js</code> file lives, simply type the following command:</p>
<pre><code>$ node index.js</code></pre>

<p>This will kickoff the Node.js process and start your server on port 3000 (as defined in our <code>config.js</code> file) on localhost (<a href="http://localhost:3000">http://localhost:3000</a>). If all goes well, you should see the following output in your console:</p>
<pre><code>rest-api v0.0.1 ready to accept connections on port 3000 in development environment.</code></pre>

<p>To ensure that our API properly accepts the request, we&#x2019;ll need to confirm that the <strong>Content-Type</strong> header is set to <strong>application/json</strong>.</p>
<p>Now that we have that set, let&#x2019;s go ahead and create a document in our MongoDB &#x201C;todos&#x201D; collection in the &#x201C;api&#x201D; database by hitting the <strong>/todos</strong> endpoint with a <strong>POST</strong> request and a JSON body from Postman. </p>
<p>Choose the &#x201C;raw&#x201D; body type and &#x201C;JSON (application/json)&#x201D; from the dropdown menu. By doing so, you&#x2019;ll be able to construct your JSON much easier within Postman.</p>
<p>Copy the following snippet and paste it into the &#x201C;raw&#x201D; section to be passed along as your JSON payload:</p>
<pre><code>{&NewLine;    &quot;name&quot;: &quot;Nick&quot;,&NewLine;    &quot;task&quot;: &quot;Make Moves&quot;,&NewLine;    &quot;status&quot;: &quot;pending&quot;&NewLine;}&NewLine;</code></pre>

<p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img5-b91ww6uxoq.png" alt="Inspect payload"></p>
<p>If you inspect the payload, you&#x2019;ll notice that the MongoDB driver automatically inserted an ObjectID (_id). More the MongoDB ObjectID can be found <a href="https://mongodb.github.io/node-mongodb-native/api-bson-generated/objectid.html" target="_blank">here</a>. Additionally, our created and updated dates were automatically added to the document by the code we wrote.</p>
<p>Next, we can <strong><code>GET</code></strong> all of the documents via the <strong><code>/todos</code></strong> endpoint. If you looked at the GET function, you probably noticed logic for querying and limiting results. This works well because Restify automatically converts query parameters to JSON, allowing us to simply pass in the object as our MongoDB query. The payload response will contain the following:</p>
<p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img6-j2gc98fzwt.png" alt="Payload resonse"></p>
<p>Let&#x2019;s go ahead and update our task from &#x201C;Pending&#x201D; to &#x201C;Complete&#x201D; using the <strong><code>PUT</code></strong> HTTP method. This is similar to our HTTP <strong><code>POST</code></strong>, however, this time we&#x2019;ll be using a different method and modified payload. We will also be passing the MongoDB <a href="https://docs.mongodb.com/manual/reference/method/ObjectId/" target="_blank">ObjectID</a> as a URL parameter:</p>
<p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img7-hm0du251hl.png" alt="Update task to complte"></p>
<p><b>Note</b>: Your body should consist of the following to ensure that the status is modified:</p>
<pre><code>{&NewLine;    &quot;status&quot;: &quot;complete&quot;&NewLine;}&NewLine;</code></pre>

<p>Finally, let&#x2019;s delete our document with the <strong><code>DELETE</code></strong> HTTP method (you&#x2019;ll need to pass the auto-generated ObjectId from your initial call in the URL):</p>
<p><img src="https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img8-qcub0yz05d.png" alt="Delete document"></p>
<p>You now have four functional API endpoints to power a todo list in which you can run full CRUD operations. While we covered just the tip of the iceberg, you are well along your way to adding additional functionality using the API/structural patterns provided in this tutorial.</p>
<p><b>Pro Tip</b>: You can kill your Node.js process at any time by pressing <strong><code>control-c</code></strong>.</p>
<h3 id="next-steps-further-reading">Next Steps &amp; Further Reading</h3>
<p>Building a todo app is a wonderful way to practice working with APIs and combining technologies. It allows you to try out new technologies in order see how much information around working with them exists and whether they fit your development style. </p>
<p>Please let us know how you found your experience in the comments section or by shooting us an email! Below are a few resources that I found helpful for increasing my knowledge around APIs and MongoDB: </p>
<ul>
<li><a href="https://www.mongodb.com/presentations/tutorial-series-getting-started-with-mongodb-atlas" target="_blank">Getting started with MongoDB Atlas</a></li>
<li><a href="http://mongodb.github.io/node-mongodb-native/2.2/api/" target="_blank">Node.js MongoDB Driver API</a></li>
<li><a href="https://nodeschool.io/">NodeSchool</a></li>
<li><a href="https://university.mongodb.com/" target="_blank">MongoDB University</a></li>
<li><a href="http://restifyjs.com/" target="_blank">Restify</a></li>
</ul>
</div><div class="p-v-20" id="disqus_thread"></div><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></main><footer class="bg-smoke p-v-50 m-t-50"><div class="fl fl-center-x fl-wrap w-max-1200 m-auto"><div class="p-15 w-min-220"><h5 class="m-t-5">About</h5><ul class="reset"><li class="m-v-10"><a class="reset" href="/company"><small class="block">About MongoDB, Inc.</small></a></li><li class="m-v-10"><a class="reset" href="/careers"><small class="block">Careers</small></a></li><li class="m-v-10"><a class="reset" href="/contact"><small class="block">Contact Us</small></a></li><li class="m-v-10"><a class="reset" href="/legal/legal-notices"><small class="block">Legal Notices</small></a></li><li class="m-v-10"><a class="reset" href="/security"><small class="block">Security Information</small></a></li><li class="m-v-10"><a class="reset" href="/office-locations"><small class="block">Office Locations</small></a></li><li class="m-v-10"><a class="reset" href="/community-code-of-conduct"><small class="block">Code of Conduct</small></a></li></ul></div><div class="p-15 w-min-220"><h5 class="m-t-5">Learn More</h5><ul class="reset"><li class="m-v-10"><a class="reset" href="/nosql-explained"><small class="block">NoSQL Database Explained</small></a></li><li class="m-v-10"><a class="reset" href="/lp/white-paper/architecture-guide"><small class="block">MongoDB Architecture Guide</small></a></li><li class="m-v-10"><a class="reset" href="/products/mongodb-enterprise-advanced"><small class="block">MongoDB Enterprise Advanced</small></a></li><li class="m-v-10"><a class="reset" href="/cloud/atlas"><small class="block">MongoDB Atlas</small></a></li><li class="m-v-10"><a class="reset" href="/cloud/stitch"><small class="block">MongoDB Stitch</small></a></li><li class="m-v-10"><a class="reset" href="https://engineering.mongodb.com/" target="_blank"><small class="block">MongoDB Engineering Blog</small></a></li><li class="m-v-10"><a class="reset" href="/faq"><small class="block">FAQ</small></a></li></ul></div><div class="p-15 w-min-220"><h5 class="m-t-5">MongoDB University</h5><ul class="reset"><li class="m-v-10"><a class="reset" href="https://www.university.mongodb.com/courses/catalog"><small class="block">View Course Catalog</small></a></li><li class="m-v-10"><a class="reset" href="https://www.university.mongodb.com/courses/schedule"><small class="block">View Course Schedule</small></a></li><li class="m-v-10"><a class="reset" href="https://www.university.mongodb.com/training"><small class="block">Public Training</small></a></li><li class="m-v-10"><a class="reset" href="https://www.university.mongodb.com/exams"><small class="block">Certification</small></a></li></ul></div><div class="p-15 w-min-220"><h5 class="m-t-5">Docs</h5><ul class="reset"><li class="m-v-10"><a class="reset" href="https://www.docs.mongodb.com/manual/"><small class="block">MongoDB Manual</small></a></li><li class="m-v-10"><a class="reset" href="https://www.docs.mongodb.com/manual/installation/"><small class="block">Installation</small></a></li><li class="m-v-10"><a class="reset" href="https://www.docs.mongodb.com/manual/faq/"><small class="block">FAQ</small></a></li></ul></div><div class="p-15 w-min-230"><h5 class="m-t-5">Get MongoDB Email Updates</h5><div><h5></h5><div class="form-error"></div><div hidden><small>Thanks for subscribing to the newsletter. This is your channel for getting the latest notifications of server and driver releases, details on local MongoDB events, updates on education programs, and the skinny on all things MongoDB.</small></div><form autoComplete="on"><input type="hidden" defaultValue="en" name="language" id="language" /><input type="hidden" defaultValue="Int_NL_NewsletterSignup-Dot-ComFooter_WW" name="elqFormName" id="elqFormName" /><input type="hidden" defaultValue="413370795" name="elqSiteID" id="elqSiteID" /><input type="hidden" defaultValue="0" name="elqCookieWrite" id="elqCookieWrite" /><input type="hidden" name="elqCustomerGUID" id="elqCustomerGUID" /><input type="hidden" name="db_company_name" id="db_company_name" /><input type="hidden" name="db_demandbase_sid" id="db_demandbase_sid" /><input type="hidden" name="db_marketing_alias" id="db_marketing_alias" /><input type="hidden" name="db_industry" id="db_industry" /><input type="hidden" name="db_sub_industry" id="db_sub_industry" /><input type="hidden" name="db_employee_count" id="db_employee_count" /><input type="hidden" name="db_primary_sic" id="db_primary_sic" /><input type="hidden" name="db_street_address" id="db_street_address" /><input type="hidden" name="db_city" id="db_city" /><input type="hidden" name="db_state" id="db_state" /><input type="hidden" name="db_zip" id="db_zip" /><input type="hidden" name="db_country" id="db_country" /><input type="hidden" name="db_country_name" id="db_country_name" /><input type="hidden" name="db_phone" id="db_phone" /><input type="hidden" name="db_stock_ticker" id="db_stock_ticker" /><input type="hidden" name="db_web_site" id="db_web_site" /><input type="hidden" name="db_annual_sales" id="db_annual_sales" /><input type="hidden" name="db_revenue_range" id="db_revenue_range" /><input type="hidden" name="db_employee_range" id="db_employee_range" /><input type="hidden" name="db_b2b" id="db_b2b" /><input type="hidden" name="db_b2c" id="db_b2c" /><input type="hidden" name="db_traffic" id="db_traffic" /><input type="hidden" name="db_latitude" id="db_latitude" /><input type="hidden" name="db_longitude" id="db_longitude" /><input type="hidden" name="db_fortune_1000" id="db_fortune_1000" /><input type="hidden" name="db_forbes_2000" id="db_forbes_2000" /><input type="hidden" name="ip_address" id="ip_address" /><input type="hidden" name="jump_id" id="jump_id" /><input required id="email" class="input-main block w-three-quarter m-0 m-v-10" name="email" type="email" placeholder="Email Address" autoComplete="email" /><input type="submit" value="Submit" class="btn-green btn-small" /></form></div></div></div><div class="w-max-1200 m-auto p-15"><h5 class="m-b-10">Popular Topics</h5><a href="/scale/database-schema-design-tool"><small class="m-r-15">Database Schema Design Tool</small></a><a href="/blog/post/comparing-cloud-mongodb-services-mongodb-atlas-vs-mlab"><small class="m-r-15">Comparing Cloud MongoDB Services: MongoDB Atlas vs mLab</small></a><a href="/blog/post/announcing-mongodb-stitch"><small class="m-r-15">Announcing MongoDB Stitch: A Backend as a Service for MongoDB</small></a><a href="/blog/post/how-our-fintech-startup-migrated-to-mongodbs-database-as-a-service-to-save-time-and-money"><small class="m-r-15">How Our FinTech Startup Migrated to MongoDB’s Database-as-a-Service to Save Time and Money</small></a></div><div class="w-max-1200 p-15 m-auto fl fl-center-y fl-space-between fl-wrap"><div class="w-max-400"><small>Copyright © 2018 MongoDB, Inc. Mongo, MongoDB, and the MongoDB leaf logo are registered trademarks of MongoDB, Inc.</small></div><div class="fl fl-center-y m-10"><h5>Follow Us</h5><a href="https://github.com/mongodb"><div class="fl fl-center m-10"><p class="m-5 w-20 icon-github"></p><small>Github</small></div></a><a href="https://twitter.com/mongodb"><div class="fl fl-center m-10"><p class="m-5 w-20 icon-twitter"></p><small>Twitter</small></div></a><a href="https://facebook.com/mongodb"><div class="fl fl-center m-10"><p class="m-5 w-20 icon-facebook"></p><small>Facebook</small></div></a><a href="https://youtube.com/user/mongodb"><div class="fl fl-center m-10"><p class="m-5 w-20 icon-youtube"></p><small>Youtube</small></div></a><a href="https://stackoverflow.com/tags/mongodb/info"><div class="fl fl-center m-10"><p class="m-5 w-20 icon-stackoverflow"></p><small>StackOverflow</small></div></a></div></div></footer></div>
      <script hidden id="server-data" type="text/template">
        {&quot;categories&quot;:[{&quot;_id&quot;:&quot;5754e1abbfb00e8b6685c5aa&quot;,&quot;name&quot;:&quot;Release Notes&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;5754e1c6bfb00e8b6685c5b1&quot;,&quot;name&quot;:&quot;Emerging Technology&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;5754e1cebfb00e8b6685c5b2&quot;,&quot;name&quot;:&quot;Community&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;5754e1d5bfb00e8b6685c5b3&quot;,&quot;name&quot;:&quot;Customer Stories&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;58498e3c0991740e2f837421&quot;,&quot;name&quot;:&quot;Business&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;58498e3f0991740e2f837423&quot;,&quot;name&quot;:&quot;Technical&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;58498e440991740e2f837424&quot;,&quot;name&quot;:&quot;Cloud&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;58498e470991740e2f83742a&quot;,&quot;name&quot;:&quot;Events&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;58498f170991740e2f83766c&quot;,&quot;name&quot;:&quot;Company&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;59f734ca2cb43e1646237c54&quot;,&quot;name&quot;:&quot;AWS re:Invent 2017&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;5a31b5eafcf8837b7bdc0876&quot;,&quot;name&quot;:&quot;MongoDB 3.6&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;5a60e9213a09a33cfe4d4449&quot;,&quot;name&quot;:&quot;Culture&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0},{&quot;_id&quot;:&quot;5b05ac41e8c07021aaa1660b&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;name&quot;:&quot;MongoDB 4.0&quot;,&quot;updated_at&quot;:&quot;2018-05-23T18:00:33.671Z&quot;,&quot;updated_by&quot;:&quot;555cf3576d6f6e0701000000&quot;,&quot;created_at&quot;:&quot;2018-05-23T18:00:33.671Z&quot;,&quot;created_by&quot;:&quot;555cf3576d6f6e0701000000&quot;}],&quot;post&quot;:{&quot;url&quot;:&quot;blog/post/getting-started-with-mongodb-nodejs-and-restify&quot;,&quot;title&quot;:&quot;Getting Started with MongoDB, Node.js and Restify&quot;,&quot;summary&quot;:&quot;&quot;,&quot;body&quot;:&quot;&lt;p&gt;When building a REST API, it is important to choose a framework that will help you to work quickly and easily through the process. This can be impacted by the actual speed of the framework, but also by the amount of knowledge and documentation that exists so that you can spend less time working through roadblocks and more time working on critical components. In this post, we&amp;#x2019;ll be covering how to set up a simple API with full CRUD operations using the ever-popular &lt;a href=\&quot;http://restify.com/\&quot; target=\&quot;_blank\&quot;&gt;Restify&lt;/a&gt; framework backed by a &lt;a href=\&quot;https://www.mongodb.com/cloud/atlas\&quot; target=\&quot;_blank\&quot;&gt;MongoDB Atlas&lt;/a&gt; database. For sake of simplicity, we&amp;#x2019;ll create a basic &amp;#x201C;to-do&amp;#x201D; style API.&lt;/p&gt;\n&lt;h3 id=\&quot;installing-node-js\&quot;&gt;Installing Node.js&lt;/h3&gt;\n&lt;p&gt;Let&amp;#x2019;s get started by installing Node.js (if you already have Node.js installed, feel free to skip to the next section of this post). If you are on a Mac, the easiest way to install Node.js is via &lt;a href=\&quot;https://brew.sh/\&quot; target=\&quot;_blank\&quot;&gt;Homebrew&lt;/a&gt;, a package manager for macOS.&lt;/p&gt;\n&lt;p&gt;To do so, simply run the following command in your terminal and you&amp;#x2019;ll be ready to go:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ brew install node&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you already have Node.js installed, make sure you&amp;#x2019;re running the latest version by running:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ brew upgrade node&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Once installed, you can run the following command to verify that node has been installed (please note that I&amp;#x2019;m currently running v7.10.0):&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ node --version&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The output will display the latest version installed, which will be v7.10.0 or above:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ v7.10.0&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;b&gt;Note&lt;/b&gt;: If you&amp;#x2019;re on Windows or Linux, please read the &lt;a href=\&quot;https://nodejs.org/en/download/\&quot; target=\&quot;_blank\&quot;&gt;installation instructions&lt;/a&gt; on the official Node.js website.&lt;/p&gt;\n&lt;h3 id=\&quot;getting-started-with-mongodb-atlas\&quot;&gt;Getting Started with MongoDB Atlas&lt;/h3&gt;\n&lt;p&gt;The easiest way to get start using MongoDB is with MongoDB Atlas, a managed service from MongoDB that facilitates seamless scaling and operations of your deployments in the cloud. It is super simple to set up and operate, and, best of all, there&amp;#x2019;s a free tier for small deployments &amp;#x2013; no credit card required.&lt;/p&gt;\n&lt;p&gt;To get started, head on over to &lt;a href=\&quot;https://www.mongodb.com/cloud/atlas\&quot; target=\&quot;_blank\&quot;&gt;https://www.mongodb.com/cloud/atlas&lt;/a&gt; and click the &amp;#x201C;Start Free&amp;#x201D; button.&lt;/p&gt;\n&lt;p&gt;From there, we&amp;#x2019;ll need to create a &amp;#x201C;group&amp;#x201D; to hold our free cluster. Feel free to name your group whatever you&amp;#x2019;d like. In this example, we&amp;apos;ll work with a group called &lt;b&gt;young-sea-3503&lt;/b&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img1-z73ss6qy4b.png\&quot; alt=\&quot;\&quot;&gt;&lt;/p&gt;\n&lt;p&gt;Once your group is configured, you&amp;#x2019;ll be prompted to set up your first cluster. Simply follow the steps and choose the &amp;#x201C;M0&amp;#x201D; instance size for the free tier. Once you deploy your instance, it should be available within about five minutes.&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img2-e3vl3nx03x.png\&quot; alt=\&quot;\&quot;&gt;&lt;/p&gt;\n&lt;h3 id=\&quot;create-our-application-directory\&quot;&gt;Create Our Application Directory&lt;/h3&gt;\n&lt;p&gt;Let&amp;#x2019;s create a directory for our application. We will call it &amp;#x201C;rest-api&amp;#x201D;. To do so, simply run the following command in your terminal:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ cd ~\n$ mkdir rest-api &amp;&amp; cd rest-api&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;b&gt;Pro Tip&lt;/b&gt;: The application directory location does not technically matter. I chose your root simply because it&amp;#x2019;s easy to find. Feel free to specify a different directory path if you&amp;#x2019;d like.&lt;/p&gt;\n&lt;h3 id=\&quot;npm-package-management\&quot;&gt;NPM Package Management&lt;/h3&gt;\n&lt;p&gt;Now that Node.js is set up and we have a database to connect to, we&amp;#x2019;ll need to install the npm packages &lt;a href=\&quot;https://www.npmjs.com/package/restify\&quot; target=\&quot;_blank\&quot;&gt;restify&lt;/a&gt; and &lt;a href=\&quot;https://www.npmjs.com/package/mongodb\&quot; target=\&quot;_blank\&quot;&gt;mongodb&lt;/a&gt; (the official MongoDB driver for Node.js). When you installed Node.js, you also installed &lt;a href=\&quot;https://www.npmjs.com/\&quot; target=\&quot;_blank\&quot;&gt;npm&lt;/a&gt;, which makes it super simple to install the necessary dependencies.&lt;/p&gt;\n&lt;p&gt;The best way to manage locally installed npm packages is to create a package.json file. A package.json file affords you a number of capabilities:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;It documents which packages your project depends on.&lt;/li&gt;\n&lt;li&gt;It allows you to specify the versions of a package that your project can use, using &lt;a href=\&quot;https://docs.npmjs.com/getting-started/semantic-versioning\&quot; target=\&quot;_blank\&quot;&gt;semantic versioning&lt;/a&gt; rules.&lt;/li&gt;\n&lt;li&gt;It makes your build reproducible, which makes it way easier to share with other developers.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\&quot;installing-the-necessary-npm-packages\&quot;&gt;Installing the Necessary NPM Packages&lt;/h3&gt;\n&lt;p&gt;Now that you understand the need for a &lt;code&gt;package.json&lt;/code&gt; file, let&amp;#x2019;s run an npm command in your terminal to generate the file:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ npm init --yes&lt;/code&gt;&lt;/pre&gt;\n\n\n&lt;p&gt;You should see the following output (the contents of your &lt;code&gt;package.json&lt;/code&gt; file):&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{\n  \&quot;name\&quot;: \&quot;rest-api\&quot;,\n  \&quot;version\&quot;: \&quot;1.0.0\&quot;,\n  \&quot;description\&quot;: \&quot;\&quot;,\n  \&quot;main\&quot;: \&quot;index.js\&quot;,\n  \&quot;scripts\&quot;: {\n    \&quot;test\&quot;: \&quot;echo \\\&quot;Error: no test specified\\\&quot; &amp;&amp; exit 1\&quot;\n  },\n  \&quot;keywords\&quot;: [],\n  \&quot;author\&quot;: \&quot;\&quot;,\n  \&quot;license\&quot;: \&quot;ISC\&quot;\n}&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;b&gt;Pro Tip&lt;/b&gt;: Running the init command attempts to make reasonable guesses about how you want your options set, and then writes a package.json file with the properties you select when prompted. If you invoke it with &lt;strong&gt;&lt;code&gt;-f&lt;/code&gt;&lt;/strong&gt;, &lt;strong&gt;&lt;code&gt;--force&lt;/code&gt;&lt;/strong&gt;, &lt;strong&gt;&lt;code&gt;-y&lt;/code&gt;&lt;/strong&gt;, or &lt;strong&gt;&lt;code&gt;--yes&lt;/code&gt;&lt;/strong&gt;, it will use only defaults and not prompt you for any options.&lt;/p&gt;\n&lt;p&gt;Now that we have the package.json file created, open up a terminal, navigate to the directory that contains your Node.js application and run the following command:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ npm install mongodb restify --save&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The command above will automatically install the mongodb and restify node modules from the npm registry.&lt;/p&gt;\n&lt;h3 id=\&quot;create-a-configuration-file\&quot;&gt;Create a Configuration File&lt;/h3&gt;\n&lt;p&gt;To keep things clean, I generally like to abstract important and/or reusable information into a configuration file. With that said, let&amp;#x2019;s create a file called &lt;code&gt;config.js&lt;/code&gt; with the following command:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ touch config.js&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The contents of the file should look something like this:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;&apos;use strict&apos;\n\nmodule.exports = {\n    name: &apos;rest-api&apos;,\n    version: &apos;0.0.1&apos;,\n    env: process.env.NODE_ENV || &apos;development&apos;,\n    port: process.env.PORT || 3000,\n    db: {\n        uri: &apos;YOUR_MONGODB_CONNECTION_STRING&apos;,\n    }\n}&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;With our &lt;code&gt;config.js&lt;/code&gt; file in place, grab the connection string so we can add it to your configuration file. To do so, head back over to the MongoDB Atlas console and click on the &amp;#x201C;connect&amp;#x201D; button. Once clicked, you will be presented with the following screen, containing your connection string to your MongoDB Atlas cluster:&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img3-spykvmks9l.png\&quot; alt=\&quot;Connect for free\&quot;&gt;&lt;/p&gt;\n&lt;p&gt;Click &amp;#x201C;copy&amp;#x201D; and replace &lt;strong&gt;&lt;code&gt;&amp;#x201C;YOUR_MONGODB_CONNECTION_STRING&amp;#x201D;&lt;/code&gt;&lt;/strong&gt; in your &lt;code&gt;config.js&lt;/code&gt; file with your provided connection string. &lt;/p&gt;\n&lt;p&gt;Here&amp;apos;s an example of our &lt;code&gt;config.js&lt;/code&gt; file with our MongoDB Atlas connection string specifying the API database using our username and password:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;module.exports = {\n    name: &apos;rest-api&apos;,\n    version: &apos;0.0.1&apos;,\n    env: process.env.NODE_ENV || &apos;development&apos;,\n    port: process.env.PORT || 3000,\n    db: {\n        uri: &apos;mongodb://$USERNAME:$PASSWORD@free-shard-00-00-example.mongodb.net:27017,free-shard-00-01-example.mongodb.net:27017,free-shard-00-02-example.mongodb.net:27017/api?ssl=true&amp;replicaSet=free-shard-0&amp;authSource=admin&apos;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;b&gt;Note&lt;/b&gt;: You will need to manually drop in the password you created when you initially built your cluster. For security purposes the password is not visible in the console. Additionally, it&amp;#x2019;s best to also specify a user with read, write, or read and write access (depending on your needs). For the purpose of this tutorial, we have named the database &amp;#x201C;api&amp;#x201D;.&lt;/p&gt;\n&lt;h3 id=\&quot;whitelist-your-ip-address\&quot;&gt;Whitelist your IP Address&lt;/h3&gt;\n&lt;p&gt;Because security is top of mind with MongoDB Atlas, we will need to whitelist our IP address in order to connect to the cluster. MongoDB Atlas makes this super simple by providing a button that says &amp;#x201C;Add Current IP Address&amp;#x201D; just above where you previously copied your connection string from.&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img4-3h82o8lnho.png\&quot; alt=\&quot;Add current IP address\&quot;&gt;&lt;/p&gt;\n&lt;h3 id=\&quot;create-the-index-js-file\&quot;&gt;Create the index.js File&lt;/h3&gt;\n&lt;p&gt;The &lt;code&gt;index.js&lt;/code&gt; file will server as the main entrypoint to your Node.js API. To get started, let&amp;#x2019;s go ahead and create the file using the following command:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ touch index.js&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Next, let&amp;#x2019;s drop in some boilerplate code so that your application will kickoff the Restify server process:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;&apos;use strict&apos;\n\n/**\n * Module Dependencies\n */\nconst config  = require(&apos;./config&apos;),\n      restify = require(&apos;restify&apos;),\n      mongodb = require(&apos;mongodb&apos;).MongoClient\n\n/**\n * Initialize Server\n */\nconst server = restify.createServer({\n    name    : config.name,\n    version : config.version\n})\n\n/**\n * Bundled Plugins (http://restify.com/#bundled-plugins)\n */\nserver.use(restify.jsonBodyParser({ mapParams: true }))\nserver.use(restify.acceptParser(server.acceptable))\nserver.use(restify.queryParser({ mapParams: true }))\nserver.use(restify.fullResponse())\n\n/**\n * Lift Server, Connect to DB &amp; Require Route File\n */\nserver.listen(config.port, () =&gt; {\n\n    // establish connection to mongodb atlas\n    mongodb.connect(config.db.uri, (err, db) =&gt; {\n\n        if (err) {\n            console.log(&apos;An error occurred while attempting to connect to MongoDB&apos;, err)\n            process.exit(1)\n        }\n\n        console.log(\n            &apos;%s v%s ready to accept connections on port %s in %s environment.&apos;,\n            server.name,\n            config.version,\n            config.port,\n            config.env\n        )\n\n        require(&apos;./routes&apos;)({ db, server })\n\n    })\n\n})\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3 id=\&quot;setting-up-routes\&quot;&gt;Setting Up Routes&lt;/h3&gt;\n&lt;p&gt;Next, let&amp;#x2019;s create our routes for CRUD operations. With a fully fledged application, you would generally have dozens of route files; however, for our case, we&amp;#x2019;ll keep it simple and only have one route file called &lt;code&gt;routes.js&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Let&amp;#x2019;s create our file by running the following command from your terminal:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ touch routes.js&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now that you&amp;#x2019;ve successfully created your routes file, let&amp;#x2019;s start populating the file with your actual endpoints!&lt;/p&gt;\n&lt;p&gt;Below is boilerplate code to drop into your &lt;code&gt;routes.js&lt;/code&gt; file (all of which is commented and should be self-explanatory):&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;&apos;use strict&apos;\n\nmodule.exports = function(ctx) {\n\n    // extract context from passed in object\n    const db     = ctx.db,\n          server = ctx.server\n\n    // assign collection to variable for further use\n    const collection = db.collection(&apos;todos&apos;)\n\n    /**\n     * Create\n     */\n    server.post(&apos;/todos&apos;, (req, res, next) =&gt; {\n\n        // extract data from body and add timestamps\n        const data = Object.assign({}, req.body, {\n            created: new Date(),\n            updated: new Date()\n        })\n\n        // insert one object into todos collection\n        collection.insertOne(data)\n            .then(doc =&gt; res.send(200, doc.ops[0]))\n            .catch(err =&gt; res.send(500, err))\n\n        next()\n\n    })\n\n    /**\n     * Read\n     */\n    server.get(&apos;/todos&apos;, (req, res, next) =&gt; {\n\n        let limit = parseInt(req.query.limit, 10) || 10, // default limit to 10 docs\n            skip  = parseInt(req.query.skip, 10) || 0, // default skip to 0 docs\n            query = req.query || {}\n\n        // remove skip and limit from query to avoid false querying\n        delete query.skip\n        delete query.limit\n\n        // find todos and convert to array (with optional query, skip and limit)\n        collection.find(query).skip(skip).limit(limit).toArray()\n            .then(docs =&gt; res.send(200, docs))\n            .catch(err =&gt; res.send(500, err))\n\n        next()\n\n    })\n\n    /**\n     * Update\n     */\n    server.put(&apos;/todos/:id&apos;, (req, res, next) =&gt; {\n\n        // extract data from body and add timestamps\n        const data = Object.assign({}, req.body, {\n            updated: new Date()\n        })\n\n        // build out findOneAndUpdate variables to keep things organized\n        let query = { _id: req.params.id },\n            body  = { $set: data },\n            opts  = {\n                returnOriginal: false,\n                upsert: true\n            }\n\n        // find and update document based on passed in id (via route)\n        collection.findOneAndUpdate(query, body, opts)\n            .then(doc =&gt; res.send(204))\n            .catch(err =&gt; res.send(500, err))\n\n        next()\n\n    })\n\n    /**\n     * Delete\n     */\n    server.del(&apos;/todos/:id&apos;, (req, res, next) =&gt; {\n\n        // remove one document based on passed in id (via route)\n        collection.findOneAndDelete({ _id: req.params.id })\n            .then(doc =&gt; res.send(204))\n            .catch(err =&gt; res.send(500, err))\n\n        next()\n\n    })\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3 id=\&quot;verifying-our-api-functionality-with-postman\&quot;&gt;Verifying our API Functionality with Postman&lt;/h3&gt;\n&lt;p&gt;At it&amp;#x2019;s core, &lt;a href=\&quot;https://www.getpostman.com/\&quot; target=\&quot;_blank\&quot;&gt;Postman&lt;/a&gt; is a powerful GUI platform built to make your API development faster and easier &amp;#x2013; from building API requests to testing, documenting and sharing with teammates. It&amp;#x2019;s one of my favorite tools (and should be yours, too).&lt;/p&gt;\n&lt;p&gt;Start the server. In the root directory where your &lt;code&gt;index.js&lt;/code&gt; file lives, simply type the following command:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;$ node index.js&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will kickoff the Node.js process and start your server on port 3000 (as defined in our &lt;code&gt;config.js&lt;/code&gt; file) on localhost (&lt;a href=\&quot;http://localhost:3000\&quot;&gt;http://localhost:3000&lt;/a&gt;). If all goes well, you should see the following output in your console:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;rest-api v0.0.1 ready to accept connections on port 3000 in development environment.&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To ensure that our API properly accepts the request, we&amp;#x2019;ll need to confirm that the &lt;strong&gt;Content-Type&lt;/strong&gt; header is set to &lt;strong&gt;application/json&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;Now that we have that set, let&amp;#x2019;s go ahead and create a document in our MongoDB &amp;#x201C;todos&amp;#x201D; collection in the &amp;#x201C;api&amp;#x201D; database by hitting the &lt;strong&gt;/todos&lt;/strong&gt; endpoint with a &lt;strong&gt;POST&lt;/strong&gt; request and a JSON body from Postman. &lt;/p&gt;\n&lt;p&gt;Choose the &amp;#x201C;raw&amp;#x201D; body type and &amp;#x201C;JSON (application/json)&amp;#x201D; from the dropdown menu. By doing so, you&amp;#x2019;ll be able to construct your JSON much easier within Postman.&lt;/p&gt;\n&lt;p&gt;Copy the following snippet and paste it into the &amp;#x201C;raw&amp;#x201D; section to be passed along as your JSON payload:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{\n    \&quot;name\&quot;: \&quot;Nick\&quot;,\n    \&quot;task\&quot;: \&quot;Make Moves\&quot;,\n    \&quot;status\&quot;: \&quot;pending\&quot;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img5-b91ww6uxoq.png\&quot; alt=\&quot;Inspect payload\&quot;&gt;&lt;/p&gt;\n&lt;p&gt;If you inspect the payload, you&amp;#x2019;ll notice that the MongoDB driver automatically inserted an ObjectID (_id). More the MongoDB ObjectID can be found &lt;a href=\&quot;https://mongodb.github.io/node-mongodb-native/api-bson-generated/objectid.html\&quot; target=\&quot;_blank\&quot;&gt;here&lt;/a&gt;. Additionally, our created and updated dates were automatically added to the document by the code we wrote.&lt;/p&gt;\n&lt;p&gt;Next, we can &lt;strong&gt;&lt;code&gt;GET&lt;/code&gt;&lt;/strong&gt; all of the documents via the &lt;strong&gt;&lt;code&gt;/todos&lt;/code&gt;&lt;/strong&gt; endpoint. If you looked at the GET function, you probably noticed logic for querying and limiting results. This works well because Restify automatically converts query parameters to JSON, allowing us to simply pass in the object as our MongoDB query. The payload response will contain the following:&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img6-j2gc98fzwt.png\&quot; alt=\&quot;Payload resonse\&quot;&gt;&lt;/p&gt;\n&lt;p&gt;Let&amp;#x2019;s go ahead and update our task from &amp;#x201C;Pending&amp;#x201D; to &amp;#x201C;Complete&amp;#x201D; using the &lt;strong&gt;&lt;code&gt;PUT&lt;/code&gt;&lt;/strong&gt; HTTP method. This is similar to our HTTP &lt;strong&gt;&lt;code&gt;POST&lt;/code&gt;&lt;/strong&gt;, however, this time we&amp;#x2019;ll be using a different method and modified payload. We will also be passing the MongoDB &lt;a href=\&quot;https://docs.mongodb.com/manual/reference/method/ObjectId/\&quot; target=\&quot;_blank\&quot;&gt;ObjectID&lt;/a&gt; as a URL parameter:&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img7-hm0du251hl.png\&quot; alt=\&quot;Update task to complte\&quot;&gt;&lt;/p&gt;\n&lt;p&gt;&lt;b&gt;Note&lt;/b&gt;: Your body should consist of the following to ensure that the status is modified:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;{\n    \&quot;status\&quot;: \&quot;complete\&quot;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Finally, let&amp;#x2019;s delete our document with the &lt;strong&gt;&lt;code&gt;DELETE&lt;/code&gt;&lt;/strong&gt; HTTP method (you&amp;#x2019;ll need to pass the auto-generated ObjectId from your initial call in the URL):&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&quot;https://webassets.mongodb.com/_com_assets/cms/NodeJS_Img8-qcub0yz05d.png\&quot; alt=\&quot;Delete document\&quot;&gt;&lt;/p&gt;\n&lt;p&gt;You now have four functional API endpoints to power a todo list in which you can run full CRUD operations. While we covered just the tip of the iceberg, you are well along your way to adding additional functionality using the API/structural patterns provided in this tutorial.&lt;/p&gt;\n&lt;p&gt;&lt;b&gt;Pro Tip&lt;/b&gt;: You can kill your Node.js process at any time by pressing &lt;strong&gt;&lt;code&gt;control-c&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;\n&lt;h3 id=\&quot;next-steps-further-reading\&quot;&gt;Next Steps &amp;amp; Further Reading&lt;/h3&gt;\n&lt;p&gt;Building a todo app is a wonderful way to practice working with APIs and combining technologies. It allows you to try out new technologies in order see how much information around working with them exists and whether they fit your development style. &lt;/p&gt;\n&lt;p&gt;Please let us know how you found your experience in the comments section or by shooting us an email! Below are a few resources that I found helpful for increasing my knowledge around APIs and MongoDB: &lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\&quot;https://www.mongodb.com/presentations/tutorial-series-getting-started-with-mongodb-atlas\&quot; target=\&quot;_blank\&quot;&gt;Getting started with MongoDB Atlas&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&quot;http://mongodb.github.io/node-mongodb-native/2.2/api/\&quot; target=\&quot;_blank\&quot;&gt;Node.js MongoDB Driver API&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&quot;https://nodeschool.io/\&quot;&gt;NodeSchool&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&quot;https://university.mongodb.com/\&quot; target=\&quot;_blank\&quot;&gt;MongoDB University&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\&quot;http://restifyjs.com/\&quot; target=\&quot;_blank\&quot;&gt;Restify&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&quot;,&quot;bg&quot;:&quot;https://webassets.mongodb.com/_com_assets/cms/gen-developer-hero-a81ebf29e4.jpg&quot;,&quot;ctaText&quot;:&quot; M101JS: MongoDB for Node.js Developers&quot;,&quot;ctaLink&quot;:&quot;https://university.mongodb.com/courses/M101JS/about&quot;,&quot;meta&quot;:{&quot;title&quot;:&quot;Getting Started with MongoDB, Node.js and Restify&quot;,&quot;description&quot;:&quot;&quot;,&quot;noIndex&quot;:false,&quot;canonical&quot;:&quot;&quot;,&quot;expires&quot;:null,&quot;redirect&quot;:&quot;&quot;,&quot;twitter&quot;:{&quot;title&quot;:&quot;&quot;,&quot;description&quot;:&quot;&quot;,&quot;img&quot;:&quot;&quot;}},&quot;authors&quot;:[{&quot;title&quot;:&quot;Nick Parsons &quot;,&quot;photo&quot;:&quot;https://webassets.mongodb.com/_com_assets/cms/nick-crop-tpjiu2dhnj.jpg&quot;}],&quot;date&quot;:&quot;Fri May 19 2017 17:47:00 GMT+0000 (Coordinated Universal Time)&quot;,&quot;categories&quot;:[{&quot;_id&quot;:&quot;58498e3f0991740e2f837423&quot;,&quot;name&quot;:&quot;Technical&quot;,&quot;tag_group_id&quot;:&quot;5754e1a5bc0141ac1d4d099b&quot;,&quot;__v&quot;:0}],&quot;script&quot;:&quot;&quot;}}
      </script>
    </body>
    </html>
  